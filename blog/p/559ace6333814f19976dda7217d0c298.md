---
layout: Post
author: Kilien
subtitle: 559ace6333814f19976dda7217d0c298
useHeaderImage: true
headerImage: https://picsum.photos/seed/559ace6333814f19976dda7217d0c298/1920/1080
headerMask: rgb(14, 21, 5, 0.2)
tags:
  - iterm2
permalink: /p/559ace6333814f19976dda7217d0c298
title: iTerm2 + Oh My Zsh ç¯å¢ƒé…ç½®
date: 2020-07-21
updated: 2022-09-15
---

å› ä¸ºpowerlineä»¥åŠhomebrewå‡éœ€è¦å®‰è£…command line toolï¼Œç½‘ç»œæ¡ä»¶ä¼˜è¶Šçš„åŒå­¦åœ¨æ‰§è¡Œæœ¬æ–‡ä¸‹é¢å†…å®¹ä¹‹å‰ï¼Œå¯ä»¥å…ˆå®‰è£…XCodeå¹¶æ‰“å¼€è¿è¡Œä¸€æ¬¡ï¼ˆä¼šåˆå§‹åŒ–å®‰è£…componentsï¼‰ï¼Œçœå»ä»¥ååœ¨iterm2ä¸­çš„ç­‰å¾…æ—¶é—´ã€‚

å¦å¤–ï¼Œgitä¹Ÿæ˜¯å¿…è¦çš„ï¼Œå„ä½å¯ä»¥è‡ªè¡Œä¸‹è½½å®‰è£…ï¼Œé™¤äº†ç½‘ç»œæ²¡æœ‰ä»»ä½•å‘ï¼š

<https://git-scm.com>

ä»‹äºæ­¤ï¼Œæœ¬æ–‡é»˜è®¤å„ä½åŒå­¦å·²ç»å®‰è£…äº†gitç¯å¢ƒå’Œxcodeï¼ˆcommand line toolsï¼‰ï¼Œé‡åˆ°æç¤ºæ‰¾ä¸åˆ°gitå‘½ä»¤æˆ–éœ€è¦å®‰è£…command line toolçš„åœ°æ–¹ï¼Œæ–‡ä¸­ä¸å†èµ˜è¿°äº†ã€‚

### å®‰è£…iTerm2

Term2 æ˜¯ä¸€æ¬¾å®Œå…¨å…è´¹çš„ï¼Œä¸“ä¸º Mac OS ç”¨æˆ·æ‰“é€ çš„å‘½ä»¤è¡Œåº”ç”¨ã€‚
å¯ä»¥ç›´æ¥å»å®˜ç½‘ä¸‹è½½ï¼š <https://www.iterm2.com/>

æˆ–è€…é”®å…¥ğŸ‘‡å‘½ä»¤ï¼š
`brew cask install iterm2`

### å®‰è£…Oh my zsh

å®‰è£…æ–¹æ³•æœ‰ä¸¤ç§ï¼Œå¯ä»¥ä½¿ç”¨curlæˆ–wgetï¼Œçœ‹è‡ªå·±ç¯å¢ƒæˆ–å–œå¥½ï¼š

    # curl å®‰è£…æ–¹å¼
    sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

<!---->

    # wget å®‰è£…æ–¹å¼
    sh -c "$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)"

Macç³»ç»Ÿé»˜è®¤ä½¿ç”¨dashä½œä¸ºç»ˆç«¯ï¼Œä½¿ç”¨å‘½ä»¤ä¿®æ”¹é»˜è®¤ä½¿ç”¨ zshï¼š

    chsh -s /bin/zsh

å¦‚æœæƒ³ä¿®æ”¹å›é»˜è®¤dashï¼ŒåŒæ ·ä½¿ç”¨chshå‘½ä»¤å³å¯ï¼š

    chsh -s /bin/bash

### é€‰æ‹©ä¸»é¢˜

gnoster æ˜¯å¸¸ç”¨çš„ zsh ä¸»é¢˜ä¹‹ä¸€ï¼Œä½ å¯ä»¥æŒ‘é€‰ä½ å–œæ¬¢çš„ zsh ä¸»é¢˜, ä»¥ä¸‹ä»¥ gnoster ä¸ºç¤ºä¾‹

*   [ä¸»é¢˜åœ°å€](https://github.com/robbyrussell/oh-my-zsh/wiki/Themes)

ä¸‹è½½ [agnoster](https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor) ä¸»é¢˜ï¼Œæ‰§è¡Œè„šæœ¬å®‰è£…ï¼š

    cd ~/Desktop/OpenSource
    git clone https://github.com/fcamblor/oh-my-zsh-agnoster-fcamblor.git
    cd oh-my-zsh-agnoster-fcamblor/
    ./install

æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¼šå°†ä¸»é¢˜æ‹·è´åˆ°oh my zshçš„themesä¸­ã€‚

å®‰è£…æˆåŠŸåï¼Œç”¨æˆ·$HOMEç›®å½•ä¸‹ä¼šå‡ºç° .zshrc æ–‡ä»¶ï¼Œç”¨ vim \~/.zshrc æ‰“å¼€éšè—æ–‡ä»¶ï¼Œå°†ä¸»é¢˜é…ç½®ä¿®æ”¹ä¸º agnosterï¼Œä¿®æ”¹å¦‚ä¸‹

    vi ~/.zshrc
    ZSH_THEME="agnoster"

ä¿®æ”¹å®ŒæˆåæŒ‰ä¸€ä¸‹ **esc** è°ƒå‡º vi å‘½ä»¤ï¼Œè¾“å…¥ **:wq** ä¿å­˜å¹¶é€€å‡º vi æ¨¡å¼ã€‚

æ­¤æ—¶command+Qæˆ–sourceé…ç½®æ–‡ä»¶åï¼ŒiTerm2å˜äº†æ¨¡æ ·ï¼š
![](https://cdn.jsdelivr.net/gh/KiLien/Pics/iShot/iterm-0.png)

### å®‰è£…PowerLine

*   powerline å®˜ç½‘ï¼š [http://powerline.readthedocs....](http://powerline.readthedocs.io/en/latest/installation.html)

å®‰è£… powerline çš„æ–¹å¼ä¾ç„¶ç®€å•ï¼Œä¹Ÿåªéœ€è¦ä¸€æ¡å‘½ä»¤ï¼š

    pip install powerline-status --user

æ²¡æœ‰å®‰è£… pip çš„åŒå­¦å¯èƒ½ä¼šç¢°åˆ° `zsh: command not found: pip`ã€‚

ä½¿ç”¨å‘½ä»¤å®‰è£… pip å³å¯ï¼š

    sudo easy_install pip

å®‰è£…åå†æ¬¡æ‰§è¡Œå®‰è£…powerlineçš„å‘½ä»¤å³å¯ã€‚

### å®‰è£…PowerFonts

å®‰è£…å­—ä½“åº“éœ€è¦é¦–å…ˆå°†é¡¹ç›® `git clone` è‡³æœ¬åœ°ï¼Œç„¶åæ‰§è¡Œæºç ä¸­çš„ install.shã€‚

åœ¨ä½ ä¹ æƒ¯çš„ä½ç½®æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚ï¼š\~/Desktop/OpenSource/

    # git clone
    git clone https://github.com/powerline/fonts.git --depth=1
    # cd to folder
    cd fonts
    # run install shell
    ./install.sh

æ‰“å¼€ iTerm2ï¼ŒæŒ‰ `Command + ,` é”®ï¼Œæ‰“å¼€ Preferences é…ç½®ç•Œé¢ï¼Œç„¶å `Profiles -> Text -> Font -> Chanage Font` ï¼Œé€‰æ‹© Meslo LG M Regular for Powerline å­—ä½“

![ç¤ºä¾‹](https://cdn.jsdelivr.net/gh/KiLien/Pics/iShot/iterm-1.png)

### å®‰è£…é…è‰²æ–¹æ¡ˆ

é…è‰²æ–¹æ¡ˆåœ¨ä½¿ç”¨ VIM æˆ– Colorful Log æ—¶ä¼šå˜å¾—éå¸¸æœ‰ç”¨ï¼ŒåŒæ—¶ç•Œé¢ä¹Ÿä¸ä¼šæ­»æ¿ã€‚

åŒæ ·ä½¿ç”¨git cloneçš„æ–¹å¼ä¸‹è½½æºç è¿›è¡Œå®‰è£…ï¼š

    cd ~/Desktop/OpenSource
    git clone https://github.com/altercation/solarized
    cd solarized/iterm2-colors-solarized/
    open .

åœ¨æ‰“å¼€çš„ finder çª—å£ä¸­ï¼ŒåŒå‡» `Solarized Dark.itermcolors` å’Œ `Solarized Light.itermcolors` å³å¯å®‰è£…æ˜æš—ä¸¤ç§é…è‰².

å†æ¬¡è¿›å…¥ `iTerm2 -> Preferences -> Profiles -> Colors -> Color Presets` ä¸­æ ¹æ®ä¸ªäººå–œå¥½é€‰æ‹©è¿™ä¸¤ç§é…è‰²ä¸­çš„ä¸€ç§å³å¯.

![ç¤ºä¾‹](https://cdn.jsdelivr.net/gh/KiLien/Pics/iShot/iterm-2.png)

### å®‰è£…é«˜äº®æ’ä»¶

è¿™æ˜¯ **oh my zsh** çš„ä¸€ä¸ªæ’ä»¶ï¼Œå®‰è£…æ–¹å¼ä¸ theme å¤§åŒå°å¼‚ï¼š

    cd ~/.oh-my-zsh/custom/plugins/
    git clone https://github.com/zsh-users/zsh-syntax-highlighting.git
    vi ~/.zshrc

è¿™æ—¶å†æ¬¡æ‰“å¼€ zshrc æ–‡ä»¶è¿›è¡Œç¼–è¾‘ã€‚æ‰¾åˆ° **plugins**ï¼Œæ­¤æ—¶ **plugins** ä¸­åº”è¯¥å·²ç»æœ‰äº† gitï¼Œæˆ‘ä»¬éœ€è¦æŠŠé«˜äº®æ’ä»¶ä¹ŸåŠ ä¸Šï¼š

![ç¤ºä¾‹](https://cdn.jsdelivr.net/gh/KiLien/Pics/iShot/iterm-3.png)

è¯·åŠ¡å¿…ä¿è¯æ’ä»¶é¡ºåºï¼Œzsh-syntax-highlighting å¿…é¡»åœ¨æœ€åä¸€ä¸ªã€‚

ç„¶ååœ¨æ–‡ä»¶çš„æœ€åä¸€è¡Œæ·»åŠ ï¼š

    source ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh

æŒ‰ä¸€ä¸‹escè°ƒå‡ºviå‘½ä»¤ï¼Œè¾“å…¥:wqä¿å­˜å¹¶é€€å‡ºviæ¨¡å¼ã€‚

æ‰§è¡Œå‘½ä»¤ä½¿åˆšæ‰çš„ä¿®æ”¹ç”Ÿæ•ˆï¼š

    source ~/.zshrc

### è‡ªåŠ¨å‘½ä»¤è¡¥å…¨

zsh-autosuggestion å½“æˆ‘ä»¬è¾“å…¥å‘½ä»¤æ—¶ï¼Œç»ˆç«¯ä¼šè‡ªåŠ¨æç¤ºä½ æ¥ä¸‹æ¥å¯èƒ½è¦è¾“å…¥çš„å‘½ä»¤ï¼Œè¿™æ—¶æŒ‰ `â†’` ä¾¿å¯è¾“å‡ºè¿™äº›å‘½ä»¤ï¼Œéå¸¸æ–¹ä¾¿ã€‚

    cd ~/.oh-my-zsh/custom/plugins/
    git clone https://github.com/zsh-users/zsh-autosuggestions
    vi ~/.zshrc

æ‰¾åˆ° pluginsï¼ŒåŠ ä¸Šè¿™ä¸ªæ’ä»¶å³å¯ï¼š

![ç¤ºä¾‹](https://cdn.jsdelivr.net/gh/KiLien/Pics/iShot/iterm-4.png)

### éšè—ç”¨æˆ·åå’Œä¸»æœºå

æœ‰æ—¶å€™æˆ‘ä»¬çš„ç”¨æˆ·åå’Œä¸»æœºåå¤ªé•¿ï¼Œæ¯”å¦‚æˆ‘çš„kilien\@kilienMacBook-Proï¼Œç»ˆç«¯æ˜¾ç¤ºçš„æ—¶å€™ä¼šå¾ˆä¸å¥½çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨å»é™¤ã€‚

ç¼–è¾‘ `vim ~/.zshrc` æ–‡ä»¶ï¼Œå¢åŠ  `DEFAULT_USER="kilien"` é…ç½®ï¼Œå¯åœ¨æ–‡æœ¬æœ€å¥½è¿½åŠ ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `whoami` å‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰ç”¨æˆ·ã€‚

å†…å®¹å‚è€ƒï¼š
[oh-my-zsh](https://github.com/robbyrussell/oh-my-zsh)

[ä¸»é¢˜åœ°å€](https://github.com/ohmyzsh/ohmyzsh/wiki/Themes)

[zsh-autosuggestion](https://github.com/sirius1024/iterm2-with-oh-my-zsh)

[iTerm2 + Oh My Zsh æ‰“é€ èˆ’é€‚ç»ˆç«¯ä½“éªŒ](https://segmentfault.com/a/1190000014992947)
